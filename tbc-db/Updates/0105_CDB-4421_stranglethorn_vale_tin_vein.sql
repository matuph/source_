-- https://github.com/cmangos/classic-db/commit/b4ec9ee4a8e3e2633284a32af79c76e826569f98
/*
03 11
03 07
01 12
02 12
02 11
05 07
03 11
06 10
03 11
01 10
02 10
05 10
05 07
05 12
04 07
03 08
03 09
-- --
01 02 03 04 05 06
07 08 09 10 11 12
*/

DELETE FROM `gameobject` WHERE `guid` BETWEEN 77069 AND 77073;
DELETE FROM `pool_gameobject` WHERE `guid` BETWEEN 77069 AND 77073;
DELETE FROM `pool_pool` WHERE `pool_id` = 6310;
DELETE FROM `pool_template` WHERE `entry` = 6310;

DELETE FROM `gameobject` WHERE `guid` = 1042002;
DELETE FROM `pool_gameobject` WHERE `guid` = 1042002;

DELETE FROM `gameobject` WHERE `guid` BETWEEN 77129 AND 77133;
DELETE FROM `pool_gameobject` WHERE `guid` BETWEEN 77129 AND 77133;
DELETE FROM `pool_pool` WHERE `pool_id` = 6322;
DELETE FROM `pool_template` WHERE `entry` = 6322;

DELETE FROM `gameobject` WHERE `guid` BETWEEN 77094 AND 77098;
DELETE FROM `pool_gameobject` WHERE `guid` BETWEEN 77094 AND 77098;
DELETE FROM `pool_pool` WHERE `pool_id` = 6315;
DELETE FROM `pool_template` WHERE `entry` = 6315;

DELETE FROM `gameobject` WHERE `guid` BETWEEN 70596 AND 70599;
DELETE FROM `pool_gameobject` WHERE `guid` BETWEEN 70596 AND 70599;
DELETE FROM `gameobject` WHERE `guid` = 71472;
DELETE FROM `pool_gameobject` WHERE `guid` = 71472;
DELETE FROM `pool_pool` WHERE `pool_id` = 3167;
DELETE FROM `pool_template` WHERE `entry` = 3167;

DELETE FROM `gameobject` WHERE `guid` BETWEEN 77084 AND 77088;
DELETE FROM `pool_gameobject` WHERE `guid` BETWEEN 77084 AND 77088;
DELETE FROM `pool_pool` WHERE `pool_id` = 6313;
DELETE FROM `pool_template` WHERE `entry` = 6313;

DELETE FROM `gameobject` WHERE `guid` = 1042001;
DELETE FROM `pool_gameobject` WHERE `guid` = 1042001;

DELETE FROM `gameobject` WHERE `guid` BETWEEN 71478 AND 71482;
DELETE FROM `pool_gameobject` WHERE `guid` BETWEEN 71478 AND 71482;
DELETE FROM `pool_pool` WHERE `pool_id` = 3169;
DELETE FROM `pool_template` WHERE `entry` = 3169;

DELETE FROM `gameobject` WHERE `guid` BETWEEN 77074 AND 77078;
DELETE FROM `pool_gameobject` WHERE `guid` BETWEEN 77074 AND 77078;
DELETE FROM `pool_pool` WHERE `pool_id` = 6311;
DELETE FROM `pool_template` WHERE `entry` = 6311;

DELETE FROM `gameobject` WHERE `guid` BETWEEN 77089 AND 77093;
DELETE FROM `pool_gameobject` WHERE `guid` BETWEEN 77089 AND 77093;
DELETE FROM `pool_pool` WHERE `pool_id` = 6314;
DELETE FROM `pool_template` WHERE `entry` = 6314;

DELETE FROM `gameobject` WHERE `guid` BETWEEN 71473 AND 71477;
DELETE FROM `pool_gameobject` WHERE `guid` BETWEEN 71473 AND 71477;
DELETE FROM `pool_pool` WHERE `pool_id` = 3168;
DELETE FROM `pool_template` WHERE `entry` = 3168;

DELETE FROM `gameobject` WHERE `guid` BETWEEN 77079 AND 77083;
DELETE FROM `pool_gameobject` WHERE `guid` BETWEEN 77079 AND 77083;
DELETE FROM `pool_pool` WHERE `pool_id` = 6312;
DELETE FROM `pool_template` WHERE `entry` = 6312;

-- Remove remaining Tin Nodes
-- https://www.wowhead.com/classic/object=1732/tin-vein
DELETE FROM `pool_gameobject` where `pool_entry` IN (SELECT `pool_id` FROM `pool_pool` where `mother_pool` = 2024) AND `description` LIKE '%Tin%';
DELETE FROM `gameobject` WHERE `guid` IN (71487,71492,71497,71998,73467,73472,73477,73482,73487,73492,73497,73591,73596,74196,74297,74794,74799,74922,74927,74991,75124,75129,75134,75139,75144,75149,75154,75159,
75164,75169,75174,75179,75184,75194,75199,77103,77108,77113,77118,77123,77128,77138,77143,77148,77153,77158,77168,77173,77178,77183,77188,77193,77198,77203,77213,77218,77223,77228,77233,77238,77243,77248,77253,
77258,77263,77268,77273,77278,77283,77288,77293,77298,77303,77308,77313,77318,77323,77328,77333,77338,77343,77348,77353,77358,77363,77368,77373,77383,77388,77398,77403,77408,77413,77418,77423,77428,77433,77438,
77443,77448,77453,77458,77463,77468,77473,77478,77483,77493,77498,77503,77513,77518,77528,77533,77538,77543,77548,77553,77558,77563,77568,77573,77578,77583,77588,77593,77598,77603,77608,77613,77618,77623,77628,
77633,77638,77643,77648,77653,77658,77663,77668,77673,77678,77683,77688,77693,77698,77703,77708,77713,77718,77723,77728,77733,77738,77743,77748,77753,77758,105267);

-- 77099	6316	0	Mineral Spawn Point 7 - Iron
-- 77100	6316	30	Mineral Spawn Point 7 - Mithril -> 20 North, 40 South
-- 77101	6316	10	Mineral Spawn Point 7 - Silver -> 5
-- 77102	6316	7	Mineral Spawn Point 7 - Gold -> 5
-- 77103	6316	11	Mineral Spawn Point 7 - Tin -> Removed
UPDATE `pool_gameobject` SET `chance` = 5 WHERE `pool_entry` IN (SELECT `pool_id` FROM `pool_pool` WHERE `mother_pool` = 2024) AND `description` LIKE '%Silver%';
UPDATE `pool_gameobject` SET `chance` = 5 WHERE `pool_entry` IN (SELECT `pool_id` FROM `pool_pool` WHERE `mother_pool` = 2024) AND `description` LIKE '%Gold%';
UPDATE `pool_gameobject` SET `chance` = 20 WHERE `pool_entry` IN (SELECT `pool_id` FROM `pool_pool` WHERE `mother_pool` = 2024) AND `description` LIKE '%Mithril%'; -- North
UPDATE `pool_gameobject` SET `chance` = 40 WHERE `pool_entry` IN (SELECT `pool_id` FROM `pool_pool` WHERE `mother_pool` = 2024) AND `description` LIKE '%Mithril%' AND `guid` IN (
77215,77245,77670,71489,75166,77280,77730,77260,75146,77685,75161,77150,77330,77325,77110,74198,77555,77335,77225,77305,77380,77185,75181,74919,77475,75126,77440,75191,77350,75131,77695,77360,77530,75196,77240,
73593,77345,77595,77480,71494,77600,77605,77385,77545,77420,77355,75136,77220,77565,77615,77680,75151,77320,77740,77660,77710,77410,75121,73499,77655,77500,77735,77640,77715,73484,77235,77300,77720,77525,77365,
74299,77755,77230,77340,77450,77165,75156,74924,77575,77665,77675,77180,77200,77705,77515,77455,77370,77690,77190,77610,77645,77560,77470,77460,77635,77415,77285,77400,77550,77425,73598,74796,77125,77725,71484,
73489,74929,77750,77650,77175,71499,73479,77265,77210,77435,77445); -- SELECT * FROM gameobject where guid IN (SELECT guid FROM pool_gameobject where pool_entry IN (SELECT pool_id from pool_pool where mother_pool = 2024) AND `description` LIKE '%Mithril%') and position_x < -12275 order by position_x;
-- kurzen cave bad for now with mithril.

-- 161 + 2 singles
UPDATE `pool_template` SET `max_limit` = 41 WHERE `entry` = 2024; -- 45	Master Mineral Pool - Stranglethorn Vale

-- ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- Tin Vein
-- DELETE FROM `gameobject` WHERE (`guid` IN (71472, 71477, 71482, 71487, 71492, 71497, 71998, 73467, 73472, 73477, 73482, 73487, 73492, 73497, 73591, 73596, 74196, 74297, 74794, 74799, 74922, 74927, 74991, 75124, 75129, 75134, 75139, 75144, 75149, 75154, 75159, 75164, 75169, 75174, 75179, 75184, 75194, 75199, 77073, 77078, 77083, 77088, 77093, 77098, 77103, 77108, 77113, 77118, 77123, 77128, 77133, 77138, 77143, 77148, 77153, 77158, 77163, 77168, 77173, 77178, 77183, 77188, 77193, 77198, 77203, 77208, 77213, 77218, 77223, 77228, 77233, 77238, 77243, 77248, 77253, 77258, 77263, 77268, 77273, 77278, 77283, 77288, 77293, 77298, 77303, 77308, 77313, 77318, 77323, 77328, 77333, 77338, 77343, 77348, 77353, 77358, 77363, 77368, 77373, 77378, 77383, 77388, 77393, 77398, 77403, 77408, 77413, 77418, 77423, 77428, 77433, 77438, 77443, 77448, 77453, 77458, 77463, 77468, 77473, 77478, 77483, 77488, 77493, 77498, 77503, 77508, 77513, 77518, 77523, 77528, 77533, 77538, 77543, 77548, 77553, 77558, 77563, 77568, 77573, 77578, 77583, 77588, 77593, 77598, 77603, 77608, 77613, 77618, 77623, 77628, 77633, 77638, 77643, 77648, 77653, 77658, 77663, 77668, 77673, 77678, 77683, 77688, 77693, 77698, 77703, 77708, 77713, 77718, 77723, 77728, 77733, 77738, 77743, 77748, 77753, 77758, 105267));
-- DELETE FROM `pool_gameobject` WHERE (`guid` IN (71472, 71477, 71482, 71487, 71492, 71497, 71998, 73467, 73472, 73477, 73482, 73487, 73492, 73497, 73591, 73596, 74196, 74297, 74794, 74799, 74922, 74927, 74991, 75124, 75129, 75134, 75139, 75144, 75149, 75154, 75159, 75164, 75169, 75174, 75179, 75184, 75194, 75199, 77073, 77078, 77083, 77088, 77093, 77098, 77103, 77108, 77113, 77118, 77123, 77128, 77133, 77138, 77143, 77148, 77153, 77158, 77163, 77168, 77173, 77178, 77183, 77188, 77193, 77198, 77203, 77208, 77213, 77218, 77223, 77228, 77233, 77238, 77243, 77248, 77253, 77258, 77263, 77268, 77273, 77278, 77283, 77288, 77293, 77298, 77303, 77308, 77313, 77318, 77323, 77328, 77333, 77338, 77343, 77348, 77353, 77358, 77363, 77368, 77373, 77378, 77383, 77388, 77393, 77398, 77403, 77408, 77413, 77418, 77423, 77428, 77433, 77438, 77443, 77448, 77453, 77458, 77463, 77468, 77473, 77478, 77483, 77488, 77493, 77498, 77503, 77508, 77513, 77518, 77523, 77528, 77533, 77538, 77543, 77548, 77553, 77558, 77563, 77568, 77573, 77578, 77583, 77588, 77593, 77598, 77603, 77608, 77613, 77618, 77623, 77628, 77633, 77638, 77643, 77648, 77653, 77658, 77663, 77668, 77673, 77678, 77683, 77688, 77693, 77698, 77703, 77708, 77713, 77718, 77723, 77728, 77733, 77738, 77743, 77748, 77753, 77758, 105267));

-- Silver Vein
-- DELETE FROM `gameobject` WHERE (`guid` IN (70598, 71475, 71480, 77071, 77076, 77081, 77086, 77091, 77096, 77131));
-- DELETE FROM `pool_gameobject` WHERE (`guid` IN (70598, 71475, 71480, 77071, 77076, 77081, 77086, 77091, 77096, 77131));

-- Iron Deposit
-- DELETE FROM `gameobject` WHERE (`guid` IN (70596, 71473, 71478, 77069, 77074, 77079, 77084, 77089, 77094, 77129));
-- DELETE FROM `pool_gameobject` WHERE (`guid` IN (70596, 71473, 71478, 77069, 77074, 77079, 77084, 77089, 77094, 77129));

-- Gold Vein
-- DELETE FROM `gameobject` WHERE (`guid` IN (70599, 71476, 71481, 77072, 77077, 77082, 77087, 77092, 77097, 77132));
-- DELETE FROM `pool_gameobject` WHERE (`guid` IN (70599, 71476, 71481, 77072, 77077, 77082, 77087, 77092, 77097, 77132));

-- Mithril Deposit
-- DELETE FROM `gameobject` WHERE (`guid` IN (70597, 71474, 71479, 77070, 77075, 77080, 77085, 77090, 77095, 77130));
-- DELETE FROM `pool_gameobject` WHERE (`guid` IN (70597, 71474, 71479, 77070, 77075, 77080, 77085, 77090, 77095, 77130));

-- Pool
-- DELETE FROM `pool_template` WHERE (`entry` IN (4051, 4052, 4056, 4057, 4103, 4104, 4107, 4108, 4146, 4147));

-- ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
SET @OGUID := 142120;
SET @SGUID := 413;

INSERT INTO `gameobject` (`guid`, `id`, `map`, `spawnMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecsmin`, `spawntimesecsmax`) VALUES
(@OGUID + 00, 0, 0, 1, -11441.189453125, 107.1297836303710937, 41.17155838012695312, 6.14356088638305664, 0, 0, -0.06975555419921875, 0.997564136981964111, 300, 600),
(@OGUID + 01, 0, 0, 1, -11437.8369140625, 25.98166275024414062, 35.62373733520507812, 1.884953022003173828, 0, 0, 0.809016227722167968, 0.587786316871643066, 300, 600),
(@OGUID + 02, 0, 0, 1, -11463.0283203125, -93.0084609985351562, 35.1164703369140625, 0.925023794174194335, 0, 0, 0.446197509765625, 0.894934535026550292, 300, 600),
(@OGUID + 03, 0, 0, 1, -11500.99609375, -191.352218627929687, 56.18410110473632812, 6.161012649536132812, 0, 0, -0.06104850769042968, 0.998134791851043701, 300, 600),
(@OGUID + 04, 0, 0, 1, -11447.6806640625, -321.118377685546875, 59.83945846557617187, 2.530723094940185546, 0, 0, 0.953716278076171875, 0.300707906484603881, 300, 600),
(@OGUID + 05, 0, 0, 1, -11525.0439453125, -484.46875, 44.49238967895507812, 4.206246376037597656, 0, 0, -0.86162853240966796, 0.50753939151763916, 300, 600);

INSERT INTO `spawn_group` (`Id`, `Name`, `Type`, `MaxCount`, `WorldState`, `Flags`) VALUES
(@SGUID + 00, 'Stranglethorn Vale - Tin Vein | Silver Vein (1) Ore 000', '1', '1', '0', '0');

INSERT INTO `spawn_group_spawn` (`Id`, `Guid`, `SlotId`) VALUES
(@SGUID + 00, @OGUID + 00, '-1'),
(@SGUID + 00, @OGUID + 01, '-1'),
(@SGUID + 00, @OGUID + 02, '-1'),
(@SGUID + 00, @OGUID + 03, '-1'),
(@SGUID + 00, @OGUID + 04, '-1'),
(@SGUID + 00, @OGUID + 05, '-1');

INSERT INTO `spawn_group_entry` (`Id`, `Entry`, `MinCount`, `MaxCount`, `Chance`) VALUES
(@SGUID + 00, '1732', '0', '0', '0'),
(@SGUID + 00, '1733', '0', '0', '5');

-- ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

INSERT INTO `gameobject` (`guid`, `id`, `map`, `spawnMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecsmin`, `spawntimesecsmax`) VALUES
(@OGUID + 10, 0, 0, 1, -11717.228515625, -139.425674438476562, 19.37675857543945312, 0.122172988951206207, 0, 0, 0.061048507690429687, 0.998134791851043701, 300, 600),
(@OGUID + 11, 0, 0, 1, -11755.9111328125, -176.015518188476562, 23.30215263366699218, 2.478367090225219726, 0, 0, 0.94551849365234375, 0.325568377971649169, 300, 600),
(@OGUID + 12, 0, 0, 1, -11761.046875, -254.12164306640625, 28.26922607421875, 0.767943859100341796, 0, 0, 0.374606132507324218, 0.927184045314788818, 300, 600),
(@OGUID + 13, 0, 0, 1, -11654.7861328125, -549.55499267578125, 29.74135971069335937, 1.047197580337524414, 0, 0, 0.5, 0.866025388240814208, 300, 600),
(@OGUID + 14, 0, 0, 1, -11713.02734375, -645.439453125, 49.32830429077148437, 1.937312245368957519, 0, 0, 0.824125289916992187, 0.566407561302185058, 300, 600),
(@OGUID + 15, 0, 0, 1, -11729.8173828125, -681.52398681640625, 36.0557403564453125, 2.67034769058227539, 0, 0, 0.972369194030761718, 0.233448356389999389, 300, 600);

INSERT INTO `spawn_group` (`Id`, `Name`, `Type`, `MaxCount`, `WorldState`, `Flags`) VALUES
(@SGUID + 01, 'Stranglethorn Vale - Tin Vein | Silver Vein (1) Ore 001', '1', '1', '0', '0');

INSERT INTO `spawn_group_spawn` (`Id`, `Guid`, `SlotId`) VALUES
(@SGUID + 01, @OGUID + 10, '-1'),
(@SGUID + 01, @OGUID + 11, '-1'),
(@SGUID + 01, @OGUID + 12, '-1'),
(@SGUID + 01, @OGUID + 13, '-1'),
(@SGUID + 01, @OGUID + 14, '-1'),
(@SGUID + 01, @OGUID + 15, '-1');

INSERT INTO `spawn_group_entry` (`Id`, `Entry`, `MinCount`, `MaxCount`, `Chance`) VALUES
(@SGUID + 01, '1732', '0', '0', '0'),
(@SGUID + 01, '1733', '0', '0', '5');
