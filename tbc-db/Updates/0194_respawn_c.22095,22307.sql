-- https://www.wowhead.com/tbc/quest=10896/the-infested-protectors
-- https://www.wowhead.com/tbc/npc=22419/wood-mite
DELETE FROM `conditions` WHERE `condition_entry` = 10089;
INSERT INTO `conditions` (`condition_entry`, `type`, `value1`, `value2`, `value3`, `value4`, `flags`, `comments`) VALUES (10089, 9, 10896, 0, 0, 0, 0, 'Quest ID 10896 Taken'); -- currently ignores playercontrolled kills so not 100% fixed. - needs core update.

DELETE FROM `creature_spell_targeting` WHERE `Id` IN (206,207) AND `Param1` = 25;
INSERT INTO `creature_spell_targeting` (`Id`, `Type`, `Param1`, `Param2`, `Param3`, `UnitCondition`, `Comments`) VALUES
(206, 2, 25, 1, 1, -1, 'Support - Missing 25% including self'),
(207, 2, 25, 1, 0, -1, 'Support - Missing 25% excluding self');

-- ==========================

-- Infested Root-Walker 22095 - https://www.wowhead.com/tbc/npc=22095/infested-root-walker
UPDATE `creature_template` SET `SpellList` = 2209501, `ExtraFlags` = `ExtraFlags`|1048576 WHERE `entry` = 22095;

-- 22095	0	39000	0	0	0	0	0	0	0	0	0
DELETE FROM `creature_template_spells` WHERE `entry` = 22095;

DELETE FROM `creature_spell_list_entry` WHERE `Id` = 2209501;
INSERT INTO `creature_spell_list_entry` (`Id`, `Name`, `ChanceSupportAction`, `ChanceRangedAttack`) VALUES
(2209501, 'Terokkar Forest - Infested Root-Walker (22095)', 0, 0);

DELETE FROM `creature_spell_list` WHERE `Id` = 2209501;
INSERT INTO `creature_spell_list` (`Id`, `Position`, `SpellId`, `Flags`, `CombatCondition`, `TargetId`, `ScriptId`, `Availability`, `Probability`, `InitialMin`, `InitialMax`, `RepeatMin`, `RepeatMax`, `Comments`) VALUES
(2209501, 1, 39000, 0, -1, 206, 0, 100, 0, 10000, 20000, 28000, 33000, 'Infested Root-Walker - Regrowth on Friendly Missing 25% including self');

-- ==========================

-- Rotting Forest-Rager 22307 - https://www.wowhead.com/tbc/npc=22307/rotting-forest-rager
UPDATE `creature_template` SET `SpeedWalk` = (2.5 / 2.25), `SpellList` = 2230701, `MechanicImmuneMask` = 33558016, `SchoolImmuneMask` = 8,`ExtraFlags` = `ExtraFlags`|1048576 WHERE `entry` = 22307;

-- nonexistant
DELETE FROM `creature_template_spells` WHERE `entry` = 22307;

DELETE FROM `creature_spell_list_entry` WHERE `Id` = 2230701;
INSERT INTO `creature_spell_list_entry` (`Id`, `Name`, `ChanceSupportAction`, `ChanceRangedAttack`) VALUES
(2230701, 'Terokkar Forest - Rotting Forest-Rager (22307)', 0, 0);

DELETE FROM `creature_spell_list` WHERE `Id` = 2230701;
INSERT INTO `creature_spell_list` (`Id`, `Position`, `SpellId`, `Flags`, `CombatCondition`, `TargetId`, `ScriptId`, `Availability`, `Probability`, `InitialMin`, `InitialMax`, `RepeatMin`, `RepeatMax`, `Comments`) VALUES
(2230701, 1, 15548, 0, -1, 103, 0, 100, 0, 7000, 12000, 12000, 16000, 'Rotting Forest-Rager - Thunderclap on AOE eligible target exists - not passed to cast');

-- ==========================

UPDATE `creature_template` SET `SpeedWalk` = 2, `SpeedRun` = 0.714286 WHERE `entry` = 22419;

-- ==========================

DELETE FROM `creature` WHERE `id` = 22095;
INSERT INTO `creature` (`guid`, `id`, `map`, `spawnMask`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecsmin`, `spawntimesecsmax`, `spawndist`, `MovementType`) VALUES
(5309234, 22095, 530, 1, -3855.53, 5394.24, -16.8365, 0, 240, 360, 15, 1),
(5309235, 22095, 530, 1, -3838.91, 5301.10, -36.5325, 0, 240, 360, 15, 1), 
(5309236, 22095, 530, 1, -3855.63, 5253.50, -42.0402, 0, 240, 360, 15, 1), 
(5309237, 22095, 530, 1, -3817.19, 4440.45, -10.0449, 0, 240, 360, 20, 1), 
(5309238, 22095, 530, 1, -3829.07, 4403.22, -3.8823, 0, 240, 360, 15, 1), 
(5309239, 22095, 530, 1, -3816.11, 5324.47, -24.8615, 0, 240, 360, 15, 1), 
(5309240, 22095, 530, 1, -3773.05, 4427.45, -3.6096, 0, 240, 360, 15, 1), 
(5309241, 22095, 530, 1, -3786.11, 5354.08, -14.7226, 0, 240, 360, 15, 1), 
(5309242, 22095, 530, 1, -3667.84, 4333.94, -1.36517, 0, 240, 360, 15, 1), 
(5309243, 22095, 530, 1, -3659.46, 5453.43, -3.5125, 0, 240, 360, 15, 1), 
(5309244, 22095, 530, 1, -3642.63, 5509.29, -6.8379, 0, 240, 360, 15, 1), 
(5309245, 22095, 530, 1, -3613.56, 5476.29, -10.0215, 0, 240, 360, 15, 1), 
(5309246, 22095, 530, 1, -3607.08, 4295.31, -3.7254, 0, 240, 360, 15, 1), 
(5309247, 22095, 530, 1, -3555.45, 4264.85, -6.5164, 0, 240, 360, 15, 1), 
(5309248, 22095, 530, 1, -3539.01, 4222.33, -4.8800, 0, 240, 360, 15, 1), -- maybe wp
(5309249, 22095, 530, 1, -3515.27, 4246.66, -8.008, 0, 240, 360, 15, 1), 
(5309250, 22095, 530, 1, -3481.14, 4253.83, -9.2218, 0, 240, 360, 15, 1), 
(5309251, 22095, 530, 1, -3486.95, 4228.28, -6.96523, 0, 240, 360, 15, 1), 
(5309252, 22095, 530, 1, -3443.37, 4187.16, 3.0310, 0, 240, 360, 15, 1), 
(5309253, 22095, 530, 1, -3392.48, 4219.64, -10.1727, 0, 240, 360, 15, 1), 
(5309254, 22095, 530, 1, -3335.85, 4212.04, -11.5834, 0, 240, 360, 15, 1), 
(5309255, 22095, 530, 1, -3307.38, 4183.12, -7.6024, 0, 240, 360, 15, 1), 
(5309256, 22095, 530, 1, -3293.13, 4237.56, -14.9000, 0, 240, 360, 15, 1), 
(5309257, 22095, 530, 1, -3255.93, 4206.14, -11.8214, 0, 240, 360, 15, 1), 
(5309258, 22095, 530, 1, -3247.72, 4282.22, -16.4705, 0, 240, 360, 15, 1), 
(5309259, 22095, 530, 1, -3158.17, 4304.91, -15.3350, 0, 240, 360, 15, 1), 
(5309260, 22095, 530, 1, -3141.97, 4262.85, -11.2493, 0, 240, 360, 15, 1), 
(5309261, 22095, 530, 1, -3126.51, 4272.77, -11.8522, 0, 240, 360, 15, 1), 
(5309262, 22095, 530, 1, -3068.52, 4317.47, -12.9003, 0, 240, 360, 15, 1), 
(5309263, 22095, 530, 1, -3061.85, 4272.10, -8.2287, 0, 240, 360, 15, 1), 
(5309264, 22095, 530, 1, -3024.6, 4343.28, -10.6135, 0, 240, 360, 15, 1), 
(5309265, 22095, 530, 1, -2989.34, 4370.43, -8.0568, 0, 240, 360, 15, 1), 
(5309266, 22095, 530, 1, -2907.36, 4493.56, -13.3576, 0, 240, 360, 15, 1), 
(5309267, 22095, 530, 1, -2880.82, 4523.81, -11.0118, 0, 240, 360, 15, 1), 
(5309268, 22095, 530, 1, -2870.35, 4607.29, -15.4277, 0, 240, 360, 15, 1), 
(5309269, 22095, 530, 1, -2842.09, 4650.01, -16.8834, 0, 240, 360, 20, 1), 
(5309270, 22095, 530, 1, -2804.58, 4838.79, -13.8454, 0, 240, 360, 15, 1), 
(5309271, 22095, 530, 1, -2808.35, 4607.03, -9.77925, 0, 240, 360, 20, 1), 
(5309272, 22095, 530, 1, -2790.37, 4894.89, -12.6270, 0, 240, 360, 20, 1), 
(5309273, 22095, 530, 1, -2768.96, 5236.52, -5.3884, 0, 240, 360, 15, 1), 
(5309274, 22095, 530, 1, -2756.09, 5202.24, -5.9003, 0, 240, 360, 20, 1), 
(5309275, 22095, 530, 1, -2739.45, 4924.16, -8.1449, 0, 240, 360, 15, 1), 
(5309276, 22095, 530, 1, -2722.45, 5188.31, -3.2852, 0, 240, 360, 20, 1), 
(5309277, 22095, 530, 1, -2712.86, 4944.99, -5.2577, 0, 240, 360, 20, 1), 
(5309278, 22095, 530, 1, -2712.88, 4988.10, -6.7540, 0, 240, 360, 20, 1),
(5309279, 22095, 530, 1, -3794.84, 4361.10, 2.8206, 0, 240, 360, 15, 1), -- missing
(5309280, 22095, 530, 1, -3685.20, 5405.89, -6.7998, 0, 240, 360, 15, 1), -- missing
(5309281, 22095, 530, 1, -3193.20, 4291.00, -16.8892, 0, 240, 360, 15, 1), -- missing
(5309282, 22095, 530, 1, -2875.59, 4560.81, -11.9724, 0, 240, 360, 15, 1), -- missing
(5309283, 22095, 530, 1, -2814.39, 5322.06, -4.3868, 0, 240, 360, 20, 1); -- missing

-- https://www.wowhead.com/tbc/npc=22307/rotting-forest-rager#map
DELETE FROM `creature_movement` WHERE `id` IN (SELECT `guid` FROM `creature` WHERE `id` = 22307);
DELETE FROM `creature` WHERE `id` = 22307;
REPLACE INTO `creature` (`guid`, `id`, `map`, `spawnMask`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecsmin`, `spawntimesecsmax`, `spawndist`, `MovementType`) VALUES
(5309284, 22307, 530, 1, -2849.23, 4452.75, -7.3317, 0.966037, 300, 300, 0, 2),
(5309285, 22307, 530, 1, -2735.1, 4897.37, -6.92439, 3.30256, 300, 300, 0, 2),
(5309286, 22307, 530, 1, -3927.87, 4435.65, -24.1596, 0.925025, 300, 300, 0, 2),
(5309287, 22307, 530, 1, -3546.35, 4215.03, -4.56673, 2.60472, 300, 300, 0, 2),
(5309288, 22307, 530, 1, -3106.56, 4259.65, -9.25109, 0.134295, 300, 300, 0, 2),
(5309289, 22307, 530, 1, -3626.699951, 4243.370117, -0.239231, 5.881890, 300, 300, 0, 4); -- missing

INSERT INTO `creature_movement` (`Id`, `Point`, `PositionX`, `PositionY`, `PositionZ`, `Orientation`, `WaitTime`, `ScriptId`) VALUES
(5309284, 1, -2831, 4488.55, -5.40144, 100, 0, 0),
(5309284, 2, -2833.69, 4511.24, -6.97536, 100, 0, 0),
(5309284, 3, -2842.93, 4539.57, -8.92945, 100, 0, 0),
(5309284, 4, -2832.84, 4562.57, -10.6274, 100, 0, 0),
(5309284, 5, -2812.07, 4585.45, -8.46509, 100, 0, 0),
(5309284, 6, -2787.71, 4619.89, -9.44887, 0.898668, 4000, 0),
(5309284, 7, -2803.7, 4593.78, -8.32121, 100, 0, 0),
(5309284, 8, -2832.8, 4562.59, -10.6239, 100, 0, 0),
(5309284, 9, -2841.43, 4548.17, -9.81332, 100, 0, 0),
(5309284, 10, -2842.89, 4536.18, -8.57972, 100, 0, 0),
(5309284, 11, -2832.78, 4509.27, -6.88285, 100, 0, 0),
(5309284, 12, -2831.88, 4486.51, -5.39805, 100, 0, 0),
(5309284, 13, -2845.88, 4456.93, -7.39068, 100, 0, 0),
(5309284, 14, -2859.88, 4439.34, -7.46962, 100, 0, 0),
(5309284, 15, -2890.42, 4435.54, -9.61593, 100, 0, 0),
(5309284, 16, -2914.65, 4419.62, -10.2268, 3.67392, 4000, 0),
(5309284, 17, -2888.55, 4435.11, -9.39205, 100, 0, 0),
(5309284, 18, -2859.97, 4439.61, -7.46688, 100, 0, 0),
(5309284, 19, -2848.79, 4453.25, -7.47306, 100, 0, 0),

(5309285, 1, -2751.24, 4888.25, -9.28854, 3.74443, 4000, 0),
(5309285, 2, -2731.95, 4896.86, -6.58817, 100, 0, 0),
(5309285, 3, -2718.83, 4895.61, -4.4686, 100, 0, 0),
(5309285, 4, -2709.21, 4893.35, -2.85624, 100, 0, 0),
(5309285, 5, -2703.63, 4899.27, -2.11423, 1.10156, 4000, 0),
(5309285, 6, -2708.72, 4891.87, -2.74489, 100, 0, 0),
(5309285, 7, -2715.36, 4890.9, -3.81047, 100, 0, 0),
(5309285, 8, -2733.71, 4896.45, -6.85721, 100, 0, 0),

(5309286, 1, -3912.88, 4442.68, -21.8564, 100, 0, 0),
(5309286, 2, -3885.3, 4449.06, -17.6061, 100, 0, 0),
(5309286, 3, -3870.17, 4444.44, -17.0983, 100, 0, 0),
(5309286, 4, -3857.8, 4425.22, -11.9723, 100, 0, 0),
(5309286, 5, -3843.65, 4414.56, -5.42625, 100, 0, 0),
(5309286, 6, -3826, 4395.88, -2.76405, 100, 0, 0),
(5309286, 7, -3816.989990, 4386.299805, -1.742940, 0.453158, 25000, 0),
(5309286, 8, -3843.95, 4414.5, -5.43119, 100, 0, 0),
(5309286, 9, -3858.05, 4425.61, -12.0773, 100, 0, 0),
(5309286, 10, -3870.53, 4444.23, -17.1895, 100, 0, 0),
(5309286, 11, -3885.38, 4448.33, -17.5162, 100, 0, 0),
(5309286, 12, -3901.84, 4441.53, -20.5696, 100, 0, 0),
(5309286, 13, -3912.32, 4442.49, -21.6698, 100, 0, 0),
(5309286, 14, -3922.04, 4441.38, -24.3755, 100, 0, 0),
(5309286, 15, -3929.11, 4435.51, -24.3135, 0.757902, 25000, 0),

(5309287, 1, -3526.37, 4199.18, -4.18007, 100, 0, 0),
(5309287, 2, -3502.95, 4204.91, -3.86274, 100, 0, 0),
(5309287, 3, -3485.76, 4213.2, -5.05477, 100, 0, 0),
(5309287, 4, -3478.05, 4210.96, -4.81493, 100, 0, 0),
(5309287, 5, -3466.32, 4196, -3.19562, 100, 0, 0),
(5309287, 6, -3458.17, 4190.77, -2.7045, 100, 0, 0),
(5309287, 7, -3442.91, 4194.63, -4.69759, 100, 0, 0),
(5309287, 8, -3419.98, 4207.14, -7.63673, 100, 0, 0),
(5309287, 9, -3392.66, 4211.94, -9.26122, 100, 0, 0),
(5309287, 10, -3371.72, 4209.28, -9.76929, 100, 0, 0),
(5309287, 11, -3345.31, 4200.04, -8.81895, 100, 0, 0),
(5309287, 12, -3318.96, 4181.89, -7.0849, 100, 0, 0),
(5309287, 13, -3302.02, 4175.35, -7.40304, 100, 0, 0),
(5309287, 14, -3292.47, 4177.36, -8.09926, 100, 0, 0),
(5309287, 15, -3291.31, 4189.23, -9.51124, 1.70764, 4000, 0),
(5309287, 16, -3293.06, 4177.42, -8.07473, 100, 0, 0),
(5309287, 17, -3300.57, 4172.31, -7.15121, 100, 0, 0),
(5309287, 18, -3310.15, 4173.36, -6.84514, 100, 0, 0),
(5309287, 19, -3334.44, 4193.86, -7.95459, 100, 0, 0),
(5309287, 20, -3355.39, 4203.79, -9.36296, 100, 0, 0),
(5309287, 21, -3380.73, 4211.96, -9.7678, 100, 0, 0),
(5309287, 22, -3393.45, 4211.85, -9.21899, 100, 0, 0),
(5309287, 23, -3421.38, 4206.5, -7.50797, 100, 0, 0),
(5309287, 24, -3444.25, 4194.58, -4.59379, 100, 0, 0),
(5309287, 25, -3458.62, 4190.86, -2.68858, 100, 0, 0),
(5309287, 26, -3469.01, 4198.23, -3.41623, 100, 0, 0),
(5309287, 27, -3479, 4211.13, -4.81482, 100, 0, 0),
(5309287, 28, -3488.95, 4213.56, -5.12335, 100, 0, 0),
(5309287, 29, -3504.71, 4205.71, -4.04269, 100, 0, 0),
(5309287, 30, -3522.31, 4198.98, -3.97894, 100, 0, 0),
(5309287, 31, -3532.67, 4201.09, -4.47656, 100, 0, 0),
(5309287, 32, -3553.74, 4222.86, -4.66667, 2.27873, 4000, 0),

(5309288, 1, -3082.88, 4264, -8.33045, 100, 0, 0),
(5309288, 2, -3041.47, 4307.55, -11.0783, 0.823214, 4000, 0),
(5309288, 3, -3063.64, 4284.76, -9.75672, 100, 0, 0),
(5309288, 4, -3083.91, 4262.66, -8.21446, 100, 0, 0),
(5309288, 5, -3096.39, 4258.22, -8.41367, 100, 0, 0),
(5309288, 6, -3119.69, 4258.84, -10.3825, 100, 0, 0),
(5309288, 7, -3136.22, 4243.77, -9.69491, 100, 0, 0),
(5309288, 8, -3168.68, 4213.08, -8.5083, 100, 0, 0),
(5309288, 9, -3167.280029, 4197.629883, -6.328120, 4.822270, 4000, 0),
(5309288, 10, -3168.68, 4213.08, -8.5083, 100, 0, 0),
(5309288, 11, -3120.7, 4259.65, -10.5223, 100, 0, 0),

(5309289, 1, -3626.699951, 4243.370117, -0.239231, 5.881890, 4000, 0),
(5309289, 2, -3691.260010, 4262.370117, 4.839750, 100, 0, 0),
(5309289, 3, -3709.260010, 4295.529785, 3.713510, 100, 0, 0),
(5309289, 4, -3733.909912, 4310.790039, 4.564790, 100, 0, 0),
(5309289, 5, -3741.939941, 4334.669922, 3.541280, 0.942478, 4000, 0);

